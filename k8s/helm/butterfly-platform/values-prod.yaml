# =============================================================================
# BUTTERFLY Platform - Production Values
# =============================================================================

global:
  imagePullSecrets:
    - name: ghcr-secret
  
  tenant:
    enabled: true
    requireTenantContext: true
    validateTenantOnRequest: true
  
  kafka:
    bootstrapServers: kafka-prod:9093
    schemaRegistryUrl: https://schema-registry-prod:8081
  
  redis:
    host: redis-prod
    port: 6379
  
  cassandra:
    contactPoints: cassandra-prod
    port: 9042
    localDatacenter: dc-primary

# All services enabled
capsule:
  enabled: true
  capsuleService:
    replicaCount: 3
    hpa:
      enabled: true
      minReplicas: 3
      maxReplicas: 12
    pdb:
      enabled: true
      minAvailable: 2

perception:
  enabled: true
  perceptionApi:
    replicaCount: 3
    hpa:
      enabled: true
      minReplicas: 3
      maxReplicas: 15
    pdb:
      enabled: true
      minAvailable: 2

odyssey:
  enabled: true
  odysseyCore:
    replicaCount: 3
    hpa:
      enabled: true
      minReplicas: 3
      maxReplicas: 15
    pdb:
      enabled: true
      minAvailable: 2

plato:
  enabled: true
  platoService:
    replicaCount: 3
    hpa:
      enabled: true
      minReplicas: 3
      maxReplicas: 12
    pdb:
      enabled: true
      minAvailable: 2

synapse:
  enabled: true
  synapseService:
    replicaCount: 3
    hpa:
      enabled: true
      minReplicas: 3
      maxReplicas: 15
    pdb:
      enabled: true
      minAvailable: 2

nexus:
  enabled: true
  nexusService:
    replicaCount: 5
    hpa:
      enabled: true
      minReplicas: 5
      maxReplicas: 25
    pdb:
      enabled: true
      minAvailable: 3

serviceMonitor:
  enabled: true
  labels:
    release: prometheus

networkPolicies:
  enabled: true

observability:
  enabled: true
  prometheus:
    labels:
      release: prometheus
      role: slo-rules
      env: prod
  grafana:
    labels:
      grafana_dashboard: "1"
      env: prod
